(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={time:"App_time__8KWV-",input_wrapper:"App_input_wrapper__1vCsl",input:"App_input__1gmoX",main_img:"App_main_img__2guZG",favoriteList:"App_favoriteList__29dzC",favorite_item:"App_favorite_item__1mlkL"}},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(41),c=a.n(i),o=a(15),s=a(9),l=a(42);var u={data:[],loading:!1};var m={data:[],loading:!1};var p=a(46);var d=Object(s.c)({input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"input":case"inputClear":return t.data;default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchDataAction":return{data:t.data,loading:!0};default:return e}},favoriteList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"saveToList":if(e.every(function(e){return e.name!==t.data.name}))return(e=[t.data].concat(Object(p.a)(e))).slice(0,5);default:return e}},moreDaysData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchDataMoreDaysAction":return{data:t.data,loading:!0};default:return e}}}),f=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),h=Object(s.e)(d,Object(s.d)(Object(s.a)(l.a),f)),v=(a(54),a(19)),y=a.n(v),_=a(32),g=a(11),D=a(12),E=a(22),w=a(13),b=a(16),O=a(21),N=a(14),j=a.n(N),k=a(25),L=a.n(k),x={getWeather:"https://api.openweathermap.org/data/2.5/weather?APPID=b5ec4144af2651a6b2eb07fb26d8ba0c&units=metric&lang=ru&q=",getPicture:"https://pixabay.com/api/?key=5018958-ed49ccd90878e6614abdf24a6&q=",getWeatherFiveDays:"https://api.openweathermap.org/data/2.5/forecast?APPID=8defc985a5e2c764076c53bf90c6c44e&units=metric&lang=ru&q="},C=a(8);var M=function(e){return function(t){return j.a.get("".concat(x.getWeather).concat(e||"Kiev")).then(function(e){return t({type:"fetchDataAction",data:e.data})}).catch(function(e){return console.log(e)})}},A=a(44),W=a.n(A);var T=function(e){return function(t){return t({type:"saveToList",data:{name:e,id:W()()}})}};var P=function(e){return function(t){j.a.get("".concat(x.getWeatherFiveDays).concat(e||"Kiev")).then(function(e){return t({type:"fetchDataMoreDaysAction",data:e.data})}).catch(function(e){return console.log(e)})}},F=a(10),I=a.n(F),S=a(47),X=a(18),H=a.n(X),K=function(e){var t=e.el,a=e.cityName;return r.a.createElement("div",{className:H.a.card},r.a.createElement("ul",{className:H.a.weather_info},r.a.createElement("li",{className:H.a.city_name},a.name),r.a.createElement("li",{key:t.date,className:H.a.date},t.date),r.a.createElement("li",{key:t.main.temp},"temperature : ",t.main.temp," \xb0 C"),r.a.createElement("li",{key:t.main.pressure},"pressure : ",t.main.pressure," mm Hg "),r.a.createElement("li",{key:t.main.humidity},"humidity : ",t.main.humidity," %"),r.a.createElement("li",{key:t.wind.speed},"wind : ",t.wind.speed," m/s"),r.a.createElement("li",null,r.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),alt:"img",className:H.a.icon}))))},U=a(26),V=a.n(U),q=a(27),B=a.n(q),J=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={fiveDays:[]},a}return Object(b.a)(t,e),Object(D.a)(t,[{key:"getWeather",value:function(){if(void 0!==this.props.moreDaysData){var e=this.props.moreDaysData.filter(function(e){return e.dt_txt.includes("15:00:00")}),t=this.props.moreDaysData.filter(function(e){return e.dt_txt.includes("15:00:00")}).map(function(e){return L.a.unix(e.dt).format("MMM Do YY")}),a=e.map(function(e,a){return Object(S.a)({},e,{date:t[a]})});this.setState({fiveDays:a})}}},{key:"componentDidUpdate",value:function(e){e.moreDaysData!==this.props.moreDaysData&&this.getWeather()}},{key:"componentDidMount",value:function(){this.getWeather()}},{key:"render",value:function(){var e=this.props,t=e.moreDaysData,a=e.cityName,n=this.state.fiveDays;return console.log(n),r.a.createElement("div",null,r.a.createElement("div",{className:B.a.wrapper},void 0===t&&void 0===a?r.a.createElement("div",{className:B.a.loader},r.a.createElement(V.a,{type:"Watch",color:"#2356a9",height:"100",width:"100"})):n.map(function(e){return r.a.createElement("div",{className:B.a.card},r.a.createElement(K,{key:e.main.temp,el:e,cityName:a}))})))}}]),t}(n.Component);var Q=Object(C.b)(function(e){return{moreDaysData:e.moreDaysData.data.list,cityName:e.moreDaysData.data.city}},null)(J),R=a(28),G=a.n(R),Y=function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:G.a.nav},r.a.createElement("li",null,r.a.createElement(o.b,{className:G.a.li,to:"/"},"Today")),r.a.createElement("li",null,r.a.createElement(o.b,{className:G.a.li,to:"/moredays"},"Forecast for 5 days"))))},Z=a(24),z=a.n(Z),$=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.loading;return r.a.createElement("div",null,a?r.a.createElement("ul",{className:z.a.weather_info},r.a.createElement("li",{className:z.a.city_name},t.name),r.a.createElement("li",null,"temperature : ",t.main.temp," \xb0 C"),r.a.createElement("li",null,"pressure : ",t.main.pressure," mm Hg "),r.a.createElement("li",null,"humidity : ",t.main.humidity," %"),r.a.createElement("li",null,"wind : ",t.wind.speed," m/s"),r.a.createElement("li",null,r.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),alt:"img",className:z.a.icon}))):r.a.createElement("div",{className:z.a.loader},r.a.createElement(V.a,{type:"Watch",color:"#2356a9",height:"100",width:"100"})))}}]),t}(n.Component);var ee=Object(C.b)(function(e){return{data:e.data.data,loading:e.data.loading}},null)($),te=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={date:"",picturesCity:{}},a.componentDidMount=Object(_.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.fetchDataMoreDays();case 2:return e.next=4,a.props.fetchData();case 4:a.timeFunction(),a.getPicture();case 6:case"end":return e.stop()}},e)})),a.getData=function(){var e=Object(_.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.fetchDataMoreDays(a.props.input);case 3:return e.next=5,a.props.fetchData(a.props.input);case 5:a.props.saveToList(a.props.input),a.getPicture(a.props.input),a.props.inputClear();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getDataFromFavoriteList=function(e){var t=e.target.dataset.id,n=a.props.favoriteList.filter(function(e){return e.id===t})[0].name;a.props.fetchData(n),a.props.fetchDataMoreDays(n),a.getPicture(n)},a.timeFunction=function(){setInterval(function(){var e=L()().format("LLLL");a.setState({date:e})},1e3)},a.getPicture=function(e){j.a.get("".concat(x.getPicture).concat(e||"Kiev")).then(function(e){a.setState({picturesCity:e.data.hits[Math.floor(Math.random()*e.data.hits.length)].largeImageURL})}).catch(function(e){console.log(e)})},a}return Object(b.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,a=e.favoriteList;return r.a.createElement("div",{className:I.a.app},r.a.createElement("div",null,r.a.createElement("form",{action:"",onSubmit:this.getData},r.a.createElement("div",{className:I.a.input_wrapper},r.a.createElement("input",{type:"text",placeholder:" Enter name of city...",value:t,className:I.a.input,onChange:this.props.inputAction,required:!0}))),r.a.createElement("div",{className:I.a.time},this.state.date),r.a.createElement("div",{className:I.a.favoriteList,onClick:this.getDataFromFavoriteList},a.map(function(e){return r.a.createElement("p",{className:I.a.favorite_item,key:e.id,"data-id":e.id},e.name)}))),r.a.createElement(Y,null),r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ee,null)}}),r.a.createElement(O.a,{path:"/moredays",render:function(){return r.a.createElement(Q,null)}})),r.a.createElement("div",{className:I.a.main_img,style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)),url(".concat(this.state.picturesCity,")")}}))}}]),t}(n.Component);var ae=Object(C.b)(function(e){return{input:e.input,data:e.data.data,loading:e.data.loading,favoriteList:e.favoriteList}},function(e){return{inputAction:function(t){e(function(e){return{type:"input",data:e.target.value}}(t))},fetchData:function(t){e(M(t))},saveToList:function(t){e(T(t))},inputClear:function(){e({type:"inputClear",data:""})},fetchDataMoreDays:function(t){e(P(t))}}})(te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C.a,{store:h},r.a.createElement(o.a,null,r.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},18:function(e,t,a){e.exports={city_name:"Card_city_name__17XvP",icon:"Card_icon__NOUQW",date:"Card_date__HrhNJ"}},24:function(e,t,a){e.exports={city_name:"Today_city_name__34xQQ",weather_info:"Today_weather_info__3MwcV",loader:"Today_loader__3ZFMH",icon:"Today_icon__3WkHI"}},27:function(e,t,a){e.exports={loader:"MoreDays_loader__aBKDf",card:"MoreDays_card__2j9Gy",wrapper:"MoreDays_wrapper__k3y9C"}},28:function(e,t,a){e.exports={nav:"Menu_nav__3LwxV",li:"Menu_li__2Pcc5"}},48:function(e,t,a){e.exports=a(117)},54:function(e,t,a){}},[[48,2,1]]]);
//# sourceMappingURL=main.f37d2f82.chunk.js.map